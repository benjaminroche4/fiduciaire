{% extends 'admin/base_admin.html.twig' %}

{% block title %}Articles{% endblock %}

{% block body %}
    <section class="border-b border-gray-200 bg-white py-5 px-6 flex justify-between">
        <div class="flex gap-x-3.5 items-center">
            <h3 class="text-xl font-semibold leading-6 text-gray-900">Blog</h3>
            <p class="font-main border border-gray-400 text-gray-600 px-2 py-1 rounded-full text-xs">{{ posts | length }}</p>
        </div>
        <div class="hidden sm:block">
            <a href="{{ path('app_admin_blog_new') }}" class="text-sm font-semibold leading-6 text-white bg-main px-3.5 py-2.5 rounded-lg hover:bg-second transition duration-200">Nouvel article</a>
        </div>
    </section>

    <section class="px-6">
        <ul role="list" class="divide-y divide-gray-100">
            {% for post in posts %}
                <li class="flex justify-between gap-x-6 py-5">
                    <div class="flex min-w-0 gap-x-4 items-center">
                        <img class="h-16 w-16 flex-none rounded-lg bg-gray-50 object-cover" src="{{ asset('media/blog/mainPhotos/'~post.mainPhoto) }}" alt="Photo de couverture de l'article">
                        <div class="min-w-0 flex-auto">
                            <p class="text-sm font-semibold leading-6 text-gray-900 font-main">{{ post.title }}</p>
                            <p class="mt-1 truncate text-sm leading-5 text-gray-500">Status : {% if post.status %}<span class="text-green-600">Publié</span>{% else %}<span class="text-orange-600">Non publié</span>{% endif %}</p>
                        </div>
                    </div>
                    <div class="hidden shrink-0 sm:flex sm:flex-col sm:items-end items-center">
                        <p class="text-sm leading-6 text-gray-900">{{ post.authorName }}</p>
                        <p class="mt-1 text-xs leading-5 text-gray-500"><time datetime="{{ post.createdAt | date('d F Y') }}">{{ post.createdAt | date('d F Y') | format_date(locale='fr') }}</time></p>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </section>

{% endblock %}


{% extends 'base.html.twig' %}

{% block robots %}index, follow{% endblock %}
{% block title %}{{ post.title }}{% endblock %}
{% block description %}{{ post.summary |slice(0, 150)  }}...{% endblock %}
{% block url %}/blog/{{ post.slug }}{% endblock %}

{% block ogTitle %}Fiduciaire Genevoise - Blog{% endblock %}
{% block ogUrl %}https://fiduciaire-genevoise.ch/blog{{ path('app_blog_post', {'slug': post.slug }) }}{% endblock %}
{% block ogImage %}{{ asset('media/blog/mainPhotos/'~post.mainPhoto) }}{% endblock %}
{% block ogImageAlt %}Fiduciaire Genevoise{% endblock %}
{% block ogDescription %}{{ post.summary |slice(0, 150)  }}...{% endblock %}

{% block body %}
    <section class="bg-no-repeat bg-cover bg-center" style="background-image: url('{{ asset('media/blog/mainPhotos/'~post.mainPhoto) }}')">
        <div class="bg-main px-6 py-24 lg:px-8 bg-opacity-80">
            <div class="mx-auto max-w-2xl text-center">
                <h1 class="mt-2 text-4xl font-bold tracking-tight text-white sm:text-4xl">{{ post.title }}</h1>
                <div class="inline-block text-white justify-center mt-5 divide-x">
                    <time datetime="{{ post.createdAt | date('d F Y') }}" class="text-sm text-gray-300 px-2">Publi√© le {{ post.createdAt | date('d F Y') | format_date(locale='fr') }}</time>
                    {% if post.updatedAt != null %}
                        <time datetime="{{ post.createdAt | date('d F Y') }}" class="text-sm text-gray-300 px-2">M.a.j le {{ post.createdAt | date('d F Y') | format_date(locale='fr') }}</time>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>
    <section class="bg-white py-24 sm:py-28">
        <div class="mx-auto max-w-5xl grid grid-cols-3 px-6 lg:px-8 md:gap-x-8">
                <div class="col-span-3 md:col-span-2">
                    {{ post.content | raw }}
                </div>
                <div class="hidden md:block lg:mx-6">
                    <div class="p-6 rounded-lg bg-gray-50">
                        <div class="flex justify-center">
                            <img src="{{ asset('media/profilePhotos/'~post.authorProfilePhoto) }}" alt="Photo de profil de {{ post.authorName }}" class="h-20 w-20 rounded-full bg-gray-100">
                        </div>
                        <div class="text-center mt-4">
                            <p class="font-semibold">{{ post.authorName }}</p>
                            <p class="text-sm">{{ post.authorJob }}</p>
                        </div>
                        <div class="mt-5 flex justify-center">
                            <a href="{{ path('app_contact') }}" class="text-sm rounded-lg font-semibold px-3.5 py-2.5 text-gray-900 border-solid border border-main hover:bg-gray-100 transition duration-200">Nous contacter</a>
                        </div>
                    </div>
                </div>
        </div>
    </section>
{% endblock %}
